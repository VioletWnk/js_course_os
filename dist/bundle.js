(()=>{"use strict";var t,e,n,o,c,a,r,u,i,l;(function(t){var e=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),o=document.querySelector("#timer-seconds");function c(t){return 1===t.toString().length?"0".concat(t):t}!function t(){var a,r,u,i=(a=(new Date("12 january 2021").getTime()-(new Date).getTime())/1e3,r=Math.floor(a%60),u=Math.floor(a/60%60),{timeRemaining:a,hours:Math.floor(a/60/60),minutes:u,seconds:r});i.timeRemaining<=0?(e.textContent="00",n.textContent="00",o.textContent="00"):(e.textContent=c(i.hours),n.textContent=c(i.minutes),o.textContent=c(i.seconds),setTimeout((function(){t()}),1e3))}()})(),u=document.querySelector("body"),i=document.querySelector("menu"),l=function(){i.classList.toggle("active-menu")},u.addEventListener("click",(function(t){var e=t.target;e.closest(".menu")||e.matches(".close-btn")?l():e.matches("a")&&e.closest("menu")?(l(),function(t){t.preventDefault();var e=t.target.getAttribute("href"),n=document.querySelector(e).getBoundingClientRect().top;window.scrollBy({top:n,behavior:"smooth"})}(t)):!e.closest("menu")&&i.classList.contains("active-menu")&&l()})),a=document.querySelector(".popup"),r=document.querySelector(".popup-content"),document.querySelectorAll(".popup-btn").forEach((function(t){t.addEventListener("click",(function(){if(a.style.display="block",document.documentElement.clientWidth>768){var t=-30;r.style.left="".concat(t,"%");var e=setInterval((function(){38===t?clearInterval(e):r.style.left="".concat(++t,"%")}),20)}}))})),a.addEventListener("click",(function(t){var e=t.target;e.classList.contains("popup-close")?a.style.display="none":(e=e.closest(".popup-content"))||(a.style.display="none")})),n=document.querySelector(".service-header"),o=n.querySelectorAll(".service-header-tab"),c=document.querySelectorAll(".service-tab"),n.addEventListener("click",(function(t){var e=t.target;(e=e.closest(".service-header-tab")).classList.contains("service-header-tab")&&o.forEach((function(t,n){t===e&&function(t){for(var e=0;e<c.length;e++)t===e?(o[e].classList.add("active"),c[e].classList.remove("d-none")):(o[e].classList.remove("active"),c[e].classList.add("d-none"))}(n)}))})),function(){var t=document.querySelectorAll(".portfolio-item"),e=document.querySelector(".portfolio-dots");t.forEach((function(t){var n=document.createElement("li");n.classList.add("dot"),t.classList.contains("portfolio-item-active")&&n.classList.add("dot-active"),e.append(n)})),document.querySelectorAll(".portfolio-btn");var n,o=document.querySelectorAll(".dot"),c=document.querySelector(".portfolio-content"),a=0,r=function(t,e,n){t[e].classList.remove(n)},u=function(t,e,n){t[e].classList.add(n)},i=function(){r(t,a,"portfolio-item-active"),r(o,a,"dot-active"),++a>=t.length&&(a=0),u(t,a,"portfolio-item-active"),u(o,a,"dot-active")},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;n=setInterval(i,t)};c.addEventListener("click",(function(e){e.preventDefault();var n=e.target;n.matches(".portfolio-btn, .dot")&&(r(t,a,"portfolio-item-active"),r(o,a,"dot-active"),n.matches("#arrow-right")?a++:n.matches("#arrow-left")?a--:n.matches(".dot")&&o.forEach((function(t,e){t===n&&(a=e)})),a>=t.length&&(a=0),a<0&&(a=t.length-1),u(t,a,"portfolio-item-active"),u(o,a,"dot-active"))})),c.addEventListener("mouseover",(function(t){(t.target.matches(".portfolio-btn")||t.target.matches(".dot"))&&clearInterval(n)})),c.addEventListener("mouseout",(function(t){(t.target.matches(".portfolio-btn")||t.target.matches(".dot"))&&l()})),l(1500)}(),t=document.querySelector("#command"),e=function(t){if(t.target.matches(".command__photo")){var e=t.target.getAttribute("data-img"),n=t.target.getAttribute("src");t.target.setAttribute("src",e),t.target.setAttribute("data-img",n)}},t.addEventListener("mouseover",(function(t){e(t)})),t.addEventListener("mouseout",(function(t){e(t)})),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),c=document.querySelector(".calc-day"),a=document.querySelector(".calc-count"),r=document.getElementById("total"),u=function(){var e=0,u=1,i=1,l=n.options[n.selectedIndex].value,s=+o.value;a.value>1&&(u+=(a.value-1)/10),c.value&&c.value<5?i*=2:c.value&&c.value<10&&(i*=1.5),l&&s&&(e=t*s*l*u*i),function t(){var n=+r.textContent,o=e/200;n<e?(r.textContent=Math.ceil(n+o),setTimeout(t,1)):r.textContent=Math.ceil(e)}()};e.addEventListener("input",(function(t){var e=t.target;(e.matches(".calc-type")||e.matches(".calc-square")||e.matches(".calc-day")||e.matches(".calc-count"))&&u()}));var i=function(){document.querySelector(".calc-block").addEventListener("input",(function(t){if(t.target.matches("input")){var e=t.target.value.match(/\d+/);t.target.value=e}}))};i()}(),function(){var t=document.querySelectorAll("form"),e=document.createElement("div");e.style.cssText="color: #fff;",t.forEach((function(o){o.addEventListener("submit",(function(c){c.preventDefault();var a=!1;if(o.querySelectorAll("input").forEach((function(t){console.log(t.value),!t.matches('[name="user_phone"]')||t.value.match(/^\+?([78])?\d{6,10}$/)?!t.matches('[name="user_name"]')||t.value.match(/^[\t-\r \xA0\u0410-\u044F\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]{2,}$/g)?!t.matches('[name="user_message"]')||t.value.match(/^(?:[\0-\/:-@\[-\^`\{-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/g)?!t.matches('[name="user_email"]')||t.value.match(/^.+@.+\.[a-z]+$/)?a=!0:alert("Введите корректный email"):alert("Введите сообщение"):alert("Введите корректное имя"):alert("Введите корректный номер телефона")})),a){o.appendChild(e),e.textContent="Загрузка...";var r=new FormData(o);n(r).then((function(n){if(200!==n.status)throw new Error("status network is not 200");e.textContent="Спасибо! Мы скоро с вами свяжемся!",t.forEach((function(t){t.querySelectorAll("input").forEach((function(t){t.value=""}))}))})).catch((function(t){e.textContent="Что-то пошло не так...",console.error(t)}))}}))}));var n=function(t){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}}()})();